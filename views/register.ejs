<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Fitness Tracker</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet"  type="text/css" href="/style.css" />
  </head>
  <body>
    <header>
      <h1>Fitness Tracker</h1>
      <nav>
        <a href="../login">Login</a>
        <a href="../register">Register</a>
      </nav>  
    </header>

    <section class="register-container">
        <h1>Register</h1>

        <% if (typeof errors !== 'undefined' && errors && errors.length > 0) { %>
          <div class="alert alert-error">
            <% errors.forEach(function(err) { %>
              <div><%= err.msg %></div>
            <% }); %>
          </div>
        <% } %>

        <form method="POST" action="registered">
          
          <div class="register-form">
            <label for="username">Username</label>
            <input type="text" id="username" name="username"
                    placeholder="Choose a username (5-20 characters)" 
                    value="<%= typeof data !== 'undefined' && data.username ? data.username : '' %>"
                    required minlength="5" maxlength="20">
          </div>
          
          <div class="register-form">
            <label for="first">First Name</label>
            <input type="text" id="first" name="first"
                  placeholder="Your first name"
                  value="<%= typeof data !== 'undefined' && data.first ? data.first : '' %>"
                  required>
          </div>
          
          <div class="register-form">
            <label for="last">Last Name</label>
            <input type="text" id="last" name="last" 
                    placeholder="Your last name"
                    value="<%= typeof data !== 'undefined' && data.last ? data.last : '' %>"
                    required>
          </div>

          <div class="register-form">
            <label for="email">Email Address</label>
            <input type="email" id="email" name="email"
                    placeholder="your@email.com"
                    value="<%= typeof data !== 'undefined' && data.email ? data.email : '' %>"
                    required>
          </div>
          
          
          <div class="register-form">
            <label for="password">Password</label>
            <input type="password" id="password" name="password"
                  placeholder="At least 8 characters" required minlength="8">
            <small style="color: #7f8c8d;">
                Password must be at least 8 characters with uppercase, lowercase, number, and special character.
            </small>
          </div>

          <div class="register-form">
              <label for="confirmPassword">Confirm Password *</label>
              <input type="password" id="confirmPassword" name="confirmPassword"
                       placeholder="Confirm your password" required>
          </div>

          <div class="register-form">
            <button type="submit">Create Account</button>
          </div>
        </form>
        <a href="../" class="back-btn">Back to Home</a>
    </section>

    <footer>
      <p>Fitness Tracker &copy; 2024</p>
    </footer>
  </body>
</html>
